<nav class="nav-belt">
  <div class="nav-left">
    <!-- Logo -->
    <a href="/">
      <img src="images/PurChoose.png" class="nav-logo" alt="Logo" />
    </a>

    <!-- Botón Admin -->
    @if (isUserAdmin) {
      <button class="admin-button" (click)="navigateToAdmin()">
        {{ 'NAV-BELT.ADMIN' | translate }}
      </button>
    }
  </div>

  <!-- Centro: Barra de Búsqueda -->
  <div class="nav-center">
    <input
      type="text"
      placeholder="Search for products, brands and more"
      class="search-input"
    />
    <button aria-label="Search" class="search-button">
      <svg viewBox="0 0 24 24" fill="currentColor" class="search-icon">
        <path
          d="M16.041 15.856c-0.034 0.026-0.067 0.055-0.099 0.087s-0.060 0.064-0.087 0.099c-1.258 1.213-2.969 1.958-4.855 1.958-1.933 0-3.682-0.782-4.95-2.050s-2.050-3.017-2.050-4.95 0.782-3.682 2.050-4.95 3.017-2.050 4.95-2.050 3.682 0.782 4.95 2.050 2.050 3.879 2.050 4.95c0 1.886-0.745 3.597-1.959 4.856zM21.707 20.293l-3.675-3.675c1.231-1.54 1.968-3.493 1.968-5.618 0-2.485-1.008-4.736-2.636-6.364s-2.636-2.050-4.95-2.050-4.736 1.008-6.364 2.050-2.050 3.879-2.050 6.364 1.008 4.736 2.050 6.364 3.879 2.050 6.364 2.050c2.125 0 4.078-0.737 5.618-1.968l3.675 3.675c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414z"
        ></path>
      </svg>
    </button>
  </div>

  <!-- Derecha: Acciones del Usuario -->
  <div class="nav-right">
    <!-- Selector de Idioma -->
    <div
      class="language-selector"
      (mouseenter)="toggleDropdown(true)"
      (mouseleave)="toggleDropdown(false)"
    >
      <div class="selected-language">
        <img
          class="flag-icon"
          [src]="'/flags/' + currentLang + '.png'"
          alt="Language Flag"
        />
        <span class="nav-lang">{{ currentLang.toUpperCase() }}</span>
        <span class="dropdown-icon">▼</span>
      </div>

      <ul class="language-dropdown" [class.show]="dropdownOpen">
        @for (lang of languages; track lang.code) {
          <li (click)="onLanguageSelect(lang.code)">
            <input
              type="radio"
              [checked]="lang.code === currentLang"
              name="language"
            />
            <span>{{ lang.label }}</span>
          </li>
        }
      </ul>
    </div>

    <!-- Favoritos -->
    <a routerLink="/login" class="nav-link">
      {{ 'NAV-BELT.FAVORITES' | translate }}
    </a>

    <!-- Bandeja de Entrada -->
    <a routerLink="/inbox" class="nav-link">
      {{ 'NAV-BELT.INBOX' | translate }}
    </a>

    <a routerLink="/sell-product" class="nav-sell-link">
      <svg class="sell-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path 
          fill-rule="evenodd" 
          clip-rule="evenodd" 
          d="M22.5 12c0 5.799-4.701 10.5-10.5 10.5S1.5 17.799 1.5 12 6.201 1.5 12 1.5 22.5 6.201 22.5 12m1.5 0c0 6.627-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0s12 5.373 12 12M12 5.25a.75.75 0 0 1 .75.75v5.25H18a.75.75 0 0 1 0 1.5h-5.25V18a.75.75 0 0 1-1.5 0v-5.25H6a.75.75 0 0 1 0-1.5h5.25V6a.75.75 0 0 1 .75-.75"
        />
      </svg>
      {{ 'NAV-BELT.SELL-PRODUCT' | translate }}
    </a>    

    <!-- Botón del Carrito -->
    <a routerLink="/cart" class="nav-link cart-button ">
      <svg fill="#000000" viewBox="-1.5 0 19 19" xmlns="http://www.w3.org/2000/svg" class="cart-icon">
        <path d="M14.252 4.59a.924.924 0 0 1 .921.92v3.602a1.048 1.048 0 0 1-.916 1.017l-8.511.883a.573.573 0 0 1-.145.019.577.577 0 1 0 0 1.154h8.488a.563.563 0 1 1 0 1.126h-.91a1.03 1.03 0 1 1-1.104 0H6.849a1.03 1.03 0 1 1-1.104 0H5.6a1.703 1.703 0 1 1 0-3.406.585.585 0 0 1 .128.014L3.111 3.911H1.39a.563.563 0 1 1 0-1.125h2.09a.562.562 0 0 1 .515.337l.64 1.466h9.617z"/>
      </svg>
      <span class="cart-label">Cesta</span>
      @if (cartItemCount > 0) {
        <span class="cart-count">{{ cartItemCount }}</span>
      }
    </a>

    <!-- Perfil de Usuario -->
    <a routerLink="/perfil" class="nav-user">
      <svg viewBox="0 0 24 24" fill="currentColor" class="user-icon">
        <circle cx="12" cy="8" r="4"></circle>
        <path
          d="M12 14c-5.33 0-8 2.667-8 4v2h16v-2c0-1.333-2.67-4-8-4z"
        ></path>
      </svg>
    </a>
  </div>
</nav>