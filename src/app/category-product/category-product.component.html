<app-nav-belt></app-nav-belt>
<app-nav-categories></app-nav-categories>

<div class="category-products-container">
  <h2 class="category-title">Cars</h2>

  <!-- Contenedor principal con dos columnas -->
  <div class="content-container">
    <!-- Columna de filtros -->
    <div class="filters-column">
      <h3 class="filters-title">Filtros</h3>

      <!-- Filtro por precio -->
      <div class="filter-group">
        <label>
          <input 
            type="radio" 
            name="price" 
            [(ngModel)]="filters.price" 
            [value]="null" 
            (change)="applyFilters('price', null)"
          />
          Ninguno
        </label>
        <label>
          <input 
            type="radio" 
            name="price" 
            [(ngModel)]="filters.price" 
            [value]="'asc'" 
            (change)="applyFilters('price', 'asc')"
          />
          Precio (Bajo a Alto)
        </label>
        <label>
          <input 
            type="radio" 
            name="price" 
            [(ngModel)]="filters.price" 
            [value]="'desc'" 
            (change)="applyFilters('price', 'desc')"
          />
          Precio (Alto a Bajo)
        </label>
      </div>

      <!-- Filtro por popularidad -->
      <div class="filter-group">
        <label>
          <input 
            type="radio" 
            name="popularity" 
            [(ngModel)]="filters.popularity" 
            [value]="null" 
            (change)="applyFilters('popularity', null)"
          />
          Ninguno
        </label>
        <label>
          <input 
            type="radio" 
            name="popularity" 
            [(ngModel)]="filters.popularity" 
            [value]="'asc'" 
            (change)="applyFilters('popularity', 'asc')"
          />
          Popularidad (Baja a Alta)
        </label>
        <label>
          <input 
            type="radio" 
            name="popularity" 
            [(ngModel)]="filters.popularity" 
            [value]="'desc'" 
            (change)="applyFilters('popularity', 'desc')"
          />
          Popularidad (Alta a Baja)
        </label>
      </div>

      <!-- Filtro por fecha -->
      <div class="filter-group">
        <label>
          <input 
            type="radio" 
            name="date" 
            [(ngModel)]="filters.date" 
            [value]="null" 
            (change)="applyFilters('date', null)"
          />
          Ninguno
        </label>
        <label>
          <input 
            type="radio" 
            name="date" 
            [(ngModel)]="filters.date" 
            [value]="'asc'" 
            (change)="applyFilters('date', 'asc')"
          />
          Fecha (Antigua a Reciente)
        </label>
        <label>
          <input 
            type="radio" 
            name="date" 
            [(ngModel)]="filters.date" 
            [value]="'desc'" 
            (change)="applyFilters('date', 'desc')"
          />
          Fecha (Reciente a Antigua)
        </label>
      </div>
    </div>

    <!-- Columna de productos -->
    <div class="products-column">
      <!-- Mensaje si no hay productos -->
      @if (filteredProducts.length === 0) {
        <p class="no-products-message">No hay productos disponibles.</p>
      } @else {
        <!-- Grid de productos -->
        <div class="products-grid">
          @for (product of filteredProducts; track product.id) {
            <app-card-product [product]="product"></app-card-product>
          }
        </div>
      }
    </div>
  </div>
</div>